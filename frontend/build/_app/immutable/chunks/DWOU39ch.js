import"./DsnmJJEf.js";import{R as Lt,Y as b,Z as a,$ as t,U as n,V as Vt,T as L,a5 as O,_ as r,a6 as B,a0 as w,g as s,a2 as V}from"./trG2P9-e.js";import{a as Tt,s as g}from"./CIQPcZhh.js";import{p as Nt,i as D,s as Yt,a as Zt}from"./TCXrzA7w.js";import{e as Q,i as W}from"./DtEgrblv.js";import{s as x}from"./BnkvbMZy.js";import{a as zt}from"./DrsKJ8O4.js";var Bt=B('<line x1="20" x2="380" stroke="var(--color-border)" stroke-width="1" opacity="0.3"></line><text x="10" font-size="10" fill="var(--color-text-secondary)"> </text>',1),Ct=B('<path fill="url(#ratingGradient)"></path><path fill="none" stroke="var(--color-accent)" stroke-width="3" stroke-linecap="round" stroke-linejoin="round" class="animated-line svelte-1i6j525"></path>',1),Ft=B('<line x1="20" x2="380" stroke="var(--color-border)" stroke-width="1" opacity="0.3"></line><text x="5" font-size="10" fill="var(--color-text-secondary)"> </text>',1),Pt=B('<path fill="url(#durationGradient)"></path><path fill="none" stroke="var(--color-success)" stroke-width="3" stroke-linecap="round" stroke-linejoin="round" class="animated-line svelte-1i6j525"></path>',1),Ut=b('<th class="svelte-1i6j525">Actions</th>'),qt=b('<span class="rating-display svelte-1i6j525"> </span>'),Et=b('<span class="no-rating svelte-1i6j525">N/A</span>'),Ht=(X,k,c)=>k.onViewDetails(s(c)),It=b('<td class="svelte-1i6j525"><button class="btn-info btn-sm">View Details</button></td>'),Jt=b('<tr class="svelte-1i6j525"><td class="svelte-1i6j525"> </td><td class="svelte-1i6j525"> </td><td class="svelte-1i6j525"> </td><td class="svelte-1i6j525"> </td><td class="svelte-1i6j525"><!></td><!></tr>'),Kt=b('<div class="sessions-table svelte-1i6j525"><h3 class="svelte-1i6j525">Recent Sessions</h3> <table class="svelte-1i6j525"><thead><tr class="svelte-1i6j525"><th class="svelte-1i6j525">Session</th><th class="svelte-1i6j525">Template</th><th class="svelte-1i6j525">Date</th><th class="svelte-1i6j525">Duration</th><th class="svelte-1i6j525">Rating</th><!></tr></thead><tbody></tbody></table></div>'),Ot=b('<div class="stats-summary svelte-1i6j525"><div class="stat-card svelte-1i6j525"><div class="stat-value svelte-1i6j525"> </div> <div class="stat-label svelte-1i6j525">Total Sessions</div></div> <div class="stat-card svelte-1i6j525"><div class="stat-value svelte-1i6j525"> </div> <div class="stat-label svelte-1i6j525">Average Rating</div></div> <div class="stat-card svelte-1i6j525"><div class="stat-value svelte-1i6j525"> </div> <div class="stat-label svelte-1i6j525">Avg Duration</div></div></div> <div class="charts-container svelte-1i6j525"><div class="chart-section svelte-1i6j525"><h3 class="svelte-1i6j525">Session Ratings</h3> <div class="line-chart-container svelte-1i6j525"><svg class="line-chart svelte-1i6j525" viewBox="0 0 400 250" preserveAspectRatio="xMidYMid meet"><!><defs><linearGradient id="ratingGradient" x1="0%" y1="0%" x2="0%" y2="100%"><stop offset="0%" style="stop-color:var(--color-accent);stop-opacity:0.3"></stop><stop offset="100%" style="stop-color:var(--color-accent);stop-opacity:0"></stop></linearGradient></defs><!></svg></div></div> <div class="chart-section svelte-1i6j525"><h3 class="svelte-1i6j525">Session Duration (minutes)</h3> <div class="line-chart-container svelte-1i6j525"><svg class="line-chart svelte-1i6j525" viewBox="0 0 400 250" preserveAspectRatio="xMidYMid meet"><!><defs><linearGradient id="durationGradient" x1="0%" y1="0%" x2="0%" y2="100%"><stop offset="0%" style="stop-color:var(--color-success);stop-opacity:0.3"></stop><stop offset="100%" style="stop-color:var(--color-success);stop-opacity:0"></stop></linearGradient></defs><!></svg></div></div></div> <!>',1),Qt=b('<div class="no-data svelte-1i6j525"><p class="svelte-1i6j525">ðŸ“Š No session data available yet</p> <p class="no-data-subtext svelte-1i6j525">Complete your first session to see analytics</p></div>'),Wt=b('<div class="session-graphs svelte-1i6j525"><!></div>');function oa(X,k){Lt(k,!0);const c=()=>Yt(zt,"$sessionStats",nt),[nt,ct]=Zt();let dt=Nt(k,"showTable",3,!0),S=V(()=>c()?{labels:c().sessions.map((e,h)=>`Session ${h+1}`),ratings:c().sessions.map(e=>e.overallRating||0),durations:c().sessions.map(e=>Math.round(e.duration/60))}:{labels:[],ratings:[],durations:[]});function T(e,h,j,u=20){if(e.length===0)return"";const N=Math.max(...e,1),Y=Math.min(...e,0),$=N-Y||1,Z=(h-u*2)/(e.length-1||1);return e.map((z,G)=>{const F=u+G*Z,A=j-u-(z-Y)/$*(j-u*2);return`${G===0?"M":"L"} ${F},${A}`}).join(" ")}function tt(e){const h=Math.floor(e/3600),j=Math.floor(e%3600/60),u=e%60;return h>0?`${h}h ${j}m`:j>0?`${j}m ${u}s`:`${u}s`}var C=Wt(),_t=a(C);{var pt=e=>{var h=Ot(),j=L(h),u=a(j),N=a(u),Y=a(N,!0);t(N),O(2),t(u);var $=r(u,2),Z=a($),at=a(Z);t(Z),O(2),t($);var z=r($,2),G=a(z),F=a(G,!0);t(G),O(2),t(z),t(j);var A=r(j,2),P=a(A),st=r(a(P),2),et=a(st),rt=a(et);Q(rt,16,()=>[0,1,2,3,4,5],W,(i,o)=>{const v=V(()=>230-o/5*190);var d=Bt(),_=L(d),l=r(_),M=a(l,!0);t(l),w(()=>{x(_,"y1",s(v)),x(_,"y2",s(v)),x(l,"y",s(v)+4),g(M,o)}),n(i,d)});var ut=r(rt,2);{var ft=i=>{var o=Ct(),v=L(o),d=r(v);w((_,l)=>{x(v,"d",`${_??""} L 380,230 L 20,230 Z`),x(d,"d",l)},[()=>T(s(S).ratings,400,250,20),()=>T(s(S).ratings,400,250,20)]),n(i,o)};D(ut,i=>{s(S).ratings.length>0&&i(ft)})}t(et),t(st),t(P);var it=r(P,2),ot=r(a(it),2),vt=a(ot),lt=a(vt);Q(lt,16,()=>Array(6),W,(i,o,v)=>{const d=V(()=>Math.max(...s(S).durations,1)),_=V(()=>Math.round(s(d)/5*v)),l=V(()=>230-v/5*190);var M=Ft(),R=L(M),y=r(R),f=a(y,!0);t(y),w(()=>{x(R,"y1",s(l)),x(R,"y2",s(l)),x(y,"y",s(l)+4),g(f,s(_))}),n(i,M)});var mt=r(lt,2);{var jt=i=>{var o=Pt(),v=L(o),d=r(v);w((_,l)=>{x(v,"d",`${_??""} L 380,230 L 20,230 Z`),x(d,"d",l)},[()=>T(s(S).durations,400,250,20),()=>T(s(S).durations,400,250,20)]),n(i,o)};D(mt,i=>{s(S).durations.length>0&&i(jt)})}t(vt),t(ot),t(it),t(A);var gt=r(A,2);{var xt=i=>{var o=Kt(),v=r(a(o),2),d=a(v),_=a(d),l=r(a(_),5);{var M=y=>{var f=Ut();n(y,f)};D(l,y=>{k.onViewDetails&&y(M)})}t(_),t(d);var R=r(d);Q(R,5,()=>c().sessions.slice().reverse(),W,(y,f,yt)=>{var U=Jt(),q=a(U),bt=a(q);t(q);var E=r(q),kt=a(E,!0);t(E);var H=r(E),St=a(H,!0);t(H);var I=r(H),wt=a(I,!0);t(I);var J=r(I),Dt=a(J);{var Mt=p=>{var m=qt(),K=a(m);t(m),w(At=>g(K,`${s(f).overallRating??""}/5 ${At??""}`),[()=>"â­".repeat(s(f).overallRating)]),n(p,m)},Rt=p=>{var m=Et();n(p,m)};D(Dt,p=>{s(f).overallRating?p(Mt):p(Rt,!1)})}t(J);var $t=r(J);{var Gt=p=>{var m=It(),K=a(m);K.__click=[Ht,k,f],t(m),n(p,m)};D($t,p=>{k.onViewDetails&&p(Gt)})}t(U),w((p,m)=>{g(bt,`#${c().sessions.length-yt}`),g(kt,s(f).templateName),g(St,p),g(wt,m)},[()=>new Date(s(f).startTime).toLocaleString(),()=>tt(s(f).duration)]),n(y,U)}),t(R),t(v),t(o),n(i,o)};D(gt,i=>{dt()&&i(xt)})}w((i,o)=>{g(Y,c().totalSessions),g(at,`${i??""}/5`),g(F,o)},[()=>c().averageRating.toFixed(1),()=>tt(Math.round(c().averageDuration))]),n(e,h)},ht=e=>{var h=Qt();n(e,h)};D(_t,e=>{c()?e(pt):e(ht,!1)})}t(C),n(X,C),Vt(),ct()}Tt(["click"]);export{oa as S};
